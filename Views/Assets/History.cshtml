@model IEnumerable<AssetMgmt.Models.AssetTransferLog>
@{
    ViewData["Title"] = "Transfer History";
    var asset = ViewBag.Asset as AssetMgmt.Models.Asset;
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
<h2>History for @asset?.AssetName (@asset?.AssetTagNumber)</h2>
<table class="table table-striped table-bordered table-hover align-middle">
    <thead>
        <tr>
            <th scope="col" class="text-center">Date</th>
            <th scope="col" class="text-center">Location From</th>
            <th scope="col" class="text-center">Location To</th>
            <th scope="col" class="text-center">By</th>
            <th scope="col" class="text-center">Remarks</th></tr>
    </thead>
    <tbody>
    @foreach(var l in Model)
    {
            <tr scope="row">
            <td class="text-center">@l.TransferDate.ToLocalTime()</td>
            <td class="text-center">@(l.FromLocation != null ? $"{l.FromLocation.Region} - {l.FromLocation.Room}" : "-")</td>
            <td class="text-center">@(l.ToLocation != null ? $"{l.ToLocation.Region} - {l.ToLocation.Room}" : "-")</td>
            <td class="text-center">@(l.TransferredByUser?.FullName ?? l.TransferredBy.ToString())</td>
            <td class="text-center">@l.Remarks</td>
        </tr>
    }
    </tbody>
</table>
